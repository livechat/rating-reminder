
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible"
          content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1">

    <!-- Twitter card -->
    <meta name="twitter:card"
          content="summary" />
    <meta name="twitter:title"
          content="Chat with us!" />
    <meta name="twitter:description"
          content="If you have anything to ask or to share with us, don’t hesitate to start a chat!" />
    <meta name="twitter:image"
          content="https://app.chat.io/direct/chatio_twitter_image.png" />

    <!-- Open Graph -->
    <meta name="og:title"
          content="Chat with us!" />
    <meta name="og:description"
          content="If you have anything to ask or to share with us, don’t hesitate to start a chat!" />
    <meta name="og:image"
          content="https://app.chat.io/direct/chatio_fb_image.png" />

    <link rel='shortcut icon'
          type='image/x-icon'
          href='https://app.chat.io/direct/favicon.ico' />

    <title>LiveChat Rating Reminder</title>

    <style>
        @import url('https://fonts.googleapis.com/css?family=Roboto|Roboto+Slab:300');

        body {
            margin: 0px;
        }

        .container {
            width: 100%;
            height: 100%;
            background-color: #dde2e6;
        }

        .left {
            min-width: 320px;
            width: 50%;
            height: 100%;
            background-color: #ffffff;
        }

        .content {
            position: absolute;
            min-width: 320px;
            left: 10%;
            right: 60%;
            top: 10%;
            bottom: 10%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .header {
            font-family: 'Roboto Slab', serif;
            font-size: 40px;
            font-weight: 300;
            text-align: left;
            color: #5a6976;
            margin-bottom: 8px;
        }

        .text {
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            line-height: 1.38;
            text-align: left;
            max-width: 300px;
            color: #5a6976;
        }

        .working-hours {
            font-family: 'Roboto', sans-serif;
            font-size: 16px;
            line-height: 1.38;
            text-align: left;
            color: #5a6976;
        }
    </style>

</head>

<body>
<div class="container">
    <div class="left">
        <div class="content">
            <div class="logo">
                <!-- Logo -->
            </div>
            <div class="text-container">
                <div class="header">
                    Chat with us!
                </div>
                <div class="text">
                    If you have anything to ask or to share with us, don’t hesitate to start a chat!
                </div>
            </div>
            <div class="working-hours">
                <!-- Mon - Fri, 8 am - 4 pm CET -->
            </div>
        </div>
    </div>
</div>

<!-- rating-reminder element -->
<div id="lc-rating-reminder">
    <img src="https://cdn.livechatinc.com/s3/3358262/all/thumbup.gif" alt="Rate us!">
    <span>Rate this chat to help us become better support.</span>
    <span id="lc-rating-reminder-close">+</span>
</div>
<!-- js-cookie lib -->
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- LiveChat tracking code -->
<script type="text/javascript">
    window.__lc = window.__lc || {};
    window.__lc.license = 8656216;
    (function() {
        var lc = document.createElement('script'); lc.type = 'text/javascript'; lc.async = true;
        lc.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'cdn.livechatinc.com/tracking.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(lc, s);
    })();
</script>
<!-- Rating Reminder -->
<script>
    window.lcRatingReminder = {
        ratingCookie: null,
        ratingTimeout: null,
        leftHeight: null,
        matchMediaLeft: null,
        rateDelay: 1000,
        showRatingReminder: function(ratingCookieVar) {
            if (ratingCookieVar !== undefined && ratingCookieVar !== 'false' && LC_API.chat_window_maximized()) {
                if(ratingCookieVar <= Date.now())
                    $('#lc-rating-reminder').show();
                else {
                    var timeout = ratingCookieVar - Date.now();
                    lcRatingReminder.ratingTimeout = setTimeout(function(){
                        $('#lc-rating-reminder').show();
                    }, timeout);
                }
            }
        },
        mediaCheck: function() {
            lcRatingReminder.leftHeight = $('#livechat-full').height();
            lcRatingReminder.matchMediaLeft = window.matchMedia('(max-height:' + ((lcRatingReminder.leftHeight) + 75) + 'px)').matches;
            if(lcRatingReminder.matchMediaLeft) {
                $('#lc-rating-reminder').addClass('left');
                $('#lc-rating-reminder').css('bottom', (lcRatingReminder.leftHeight - 7.25*14) + 'px');
            } else {
                $('#lc-rating-reminder').removeClass('left');
                $('#lc-rating-reminder').css('bottom', '');
            }
        },
        init: function() {
            window.LC_API = window.LC_API || {};
            LC_API.on_after_load = function(){
                lcRatingReminder.mediaCheck();
                lcRatingReminder.ratingCookie = Cookies.get('lc-rating-reminder');
                if(LC_API.chat_running() && lcRatingReminder.ratingCookie === undefined) {
                    Cookies.set('lc-rating-reminder', Date.now() + lcRatingReminder.rateDelay, {expires: 1});
                    lcRatingReminder.ratingCookie = Cookies.get('lc-rating-reminder');
                }
            };
            LC_API.on_chat_window_opened = function () {
                setTimeout(function () {
                    if (lcRatingReminder.ratingCookie !== undefined) {
                        if (LC_API.chat_running()) {
                            lcRatingReminder.showRatingReminder(lcRatingReminder.ratingCookie);
                        } else
                            Cookies.remove('lc-rating-reminder');
                    }
                }, 500);
            };
            LC_API.on_chat_window_minimized = function () {
                $('#lc-rating-reminder').hide();
            };
            LC_API.on_chat_started = function() {
                lcRatingReminder.mediaCheck();
                if (lcRatingReminder.ratingCookie === undefined) {
                    Cookies.set('lc-rating-reminder', Date.now()+lcRatingReminder.rateDelay, { expires: 1 });
                    lcRatingReminder.showRatingReminder(Date.now()+lcRatingReminder.rateDelay);
                }
            };
            LC_API.on_chat_ended = function() {
                Cookies.remove('lc-rating-reminder');
                $('#lc-rating-reminder').hide();
            };
            LC_API.on_rating_submitted = function(data) {
                if (data !== 'none') {
                    $('#lc-rating-reminder').hide();
                    Cookies.set('lc-rating-reminder', false);
                    clearTimeout(lcRatingReminder.ratingTimeout);
                } else {
                    lcRatingReminder.mediaCheck();
                    Cookies.set('lc-rating-reminder', Date.now()+lcRatingReminder.rateDelay, { expires: 1 });
                    lcRatingReminder.showRatingReminder(Date.now()+lcRatingReminder.rateDelay);
                }
            };
            $('#lc-rating-reminder-close').click(function(){
                $('#lc-rating-reminder').hide();
                Cookies.set('lc-rating-reminder', false);
            });
            $( window ).resize(function() {
                lcRatingReminder.mediaCheck();
            });
            setInterval(function(){
                lcRatingReminder.mediaCheck();
                lcRatingReminder.ratingCookie = Cookies.get('lc-rating-reminder');
                if (lcRatingReminder.ratingCookie !== undefined && lcRatingReminder.ratingCookie !== 'false') {
                    if (LC_API.chat_running()) {
                        lcRatingReminder.showRatingReminder(lcRatingReminder.ratingCookie);
                    } else
                        Cookies.remove('lc-rating-reminder');
                } else {
                    $('#lc-rating-reminder').hide();
                }
            },3000)
        }
    };
    var ua = navigator.userAgent;
    var mobile = /((Chrome).*(Mobile))|((Android).*)|((iPhone|iPod).*Apple.*Mobile)|((Android).*(Mobile))/i;
    if(!mobile.test(ua))
        lcRatingReminder.init();
</script>

</body>

</html>
